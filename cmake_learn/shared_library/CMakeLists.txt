cmake_minimum_required(VERSION 3.5)

project(hello_library)

# Create a library
add_library(hello_library SHARED src/hello.cpp)

# 给动态库hello_library起一个别的名字hello::library
add_library(hello::library ALIAS hello_library)

# 为这个库目标添加头文件路径，PUBLIC表示包含了这个库的目标也会包含这个路径
target_include_directories(hello_library PUBLIC ${PROJECT_SOURCE_DIR}/include)

# Create an executable
add_executable(hello_binary src/main.cpp)

# 链接库和可执行文件，使用的是这个库的别名
target_link_libraries(hello_binary PRIVATE hello::library)